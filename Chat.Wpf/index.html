<!DOCTYPE html>
<html>
    <head>
        <script>
            const webSocket = new WebSocket('ws://localhost:4000/chat');

            webSocket.onopen = event => {
                alert('onopen');
                webSocket.send("Hello Web Socket!");
            };

            socket.onmessage = function(event) {
  let message = event.data;
  document.getElementById('messages').prepend(message);
}

            webSocket.onclose = event => {
                alert('onclose');
            };

            document.forms.publish.onsubmit = function() {
                let outgoingMessage = this.message.value;

                socket.send(outgoingMessage);
                return false;
            };
        </script>
    </head>
    <body>
        Congratulations on your first external application launch!

        <!-- форма сообщений -->
<form name="publish">
    <input type="text" name="message">
    <input type="submit" value="Отправить">
  </form>
  
  <!-- div с сообщениями -->
  <div id="messages"></div>
    </body>
</html>
